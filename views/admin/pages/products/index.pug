extends ../../layouts/default.pug
include ../../mixins/filterStatus.pug
include ../../mixins/search.pug
include ../../mixins/pagination.pug



block main
    h3 Quản Lý Sản Phẩm
    .card.mb-3 
      .card-header Bộ lọc và Tìm kiếm
      .card-body 
        .row
          .col-6
            +filter-Status(filterStatus)
          .col-6 
            +search(keyword)
    .card.mb-3 
      .card-header Danh sách sản phẩm
      .card-body 
        table.table.table-bordered.table-hover.text-center
          thead.table-dark
            tr
              th ID
              th Ảnh
              th Tên Sản Phẩm
              th Giá
              th Trạng Thái
              th Hành Động
          tbody
            each item, index in products
              tr
                td #{index + 1}
                td: img.img-thumbnail(
                  src= item.thumbnail 
                  alt= item.title
                  width="100px"
                  height="auto"
                  )
                td #{item.title}
                td #{item.price}$
                td
                  if (item.status === 'active')
                    button(class="badge bg-success" 
                      button-change-status
                      data-status = item.status
                      data-id = item.id) Hoạt động
                  else
                     button(class="badge bg-danger" 
                      class="badge bg-danger" 
                      button-change-status
                      data-status = item.status
                      data-id = item.id) Dừng hoạt động
                td
                  button(class="btn btn-warning btn-sm") Sửa
                  button(class="btn btn-danger btn-sm ml-1") Xóa  
    nav.d-flex.justify-content-end
      +pagination(pagination)
  
    
    form(action="",
     method="POST",
     id="form-change-status",
     data-path=`${prefixAdmin}/products/change-status`) 

    script(src="/admin/js/product.js") 